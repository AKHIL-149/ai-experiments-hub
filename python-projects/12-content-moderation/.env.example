# Server Configuration
PORT=8000
HOST=0.0.0.0
ENVIRONMENT=development

# Database
# SQLite (development)
DATABASE_URL=sqlite:///./data/database.db
# PostgreSQL (production)
# DATABASE_URL=postgresql://user:password@localhost/moderation_db

# Session Configuration
SESSION_TTL_DAYS=30
COOKIE_SECURE=false  # Set to true in production with HTTPS
COOKIE_SAMESITE=Strict

# CORS Configuration
ALLOWED_ORIGINS=http://localhost:8000,http://127.0.0.1:8000

# Redis Configuration
REDIS_URL=redis://localhost:6379/0
REDIS_CACHE_DB=1

# Celery Configuration
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/1
CELERY_TASK_TIME_LIMIT=600  # 10 minutes
CELERY_TASK_SOFT_TIME_LIMIT=480  # 8 minutes

# LLM Providers
# Ollama (local, default)
OLLAMA_API_URL=http://localhost:11434
OLLAMA_MODEL=llama3.2:3b

# OpenAI (optional)
OPENAI_API_KEY=your_openai_key_here
OPENAI_MODEL=gpt-4o-mini

# Anthropic (optional)
ANTHROPIC_API_KEY=your_anthropic_key_here
ANTHROPIC_MODEL=claude-3-5-sonnet-20241022

# Vision Models Configuration
VISION_PROVIDER=openai  # openai, anthropic, ollama
VISION_MODEL=gpt-4o  # For OpenAI

# NSFW Detection
NSFW_DETECTOR=nudenet  # nudenet, none
NSFW_THRESHOLD=0.6  # 0.0 - 1.0

# Moderation Thresholds (Global Defaults)
AUTO_APPROVE_THRESHOLD=0.95  # High confidence clean
AUTO_REJECT_THRESHOLD=0.9    # High confidence violation
FLAG_REVIEW_THRESHOLD=0.5    # Uncertain, needs review

# Category-Specific Thresholds
SPAM_THRESHOLD=0.85
NSFW_THRESHOLD_CATEGORY=0.9
HATE_SPEECH_THRESHOLD=0.85
VIOLENCE_THRESHOLD=0.9
HARASSMENT_THRESHOLD=0.8

# File Upload Configuration
MAX_UPLOAD_SIZE_MB=100
ALLOWED_IMAGE_TYPES=jpg,jpeg,png,gif,webp
ALLOWED_VIDEO_TYPES=mp4,mov,avi,webm
UPLOAD_DIR=./data/uploads
THUMBNAIL_DIR=./data/thumbnails

# Video Processing
VIDEO_FRAME_RATE=1.0  # Frames per second to extract
VIDEO_MAX_FRAMES=100  # Maximum frames to process
VIDEO_THUMBNAIL_TIMESTAMP=5  # Seconds into video

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_MAX_REQUESTS=100  # Requests per window
RATE_LIMIT_WINDOW_SECONDS=60  # Window duration

# Cost Tracking
COST_TRACKING_ENABLED=true
COST_LOG_FILE=./data/logs/costs.jsonl

# Logging
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR
LOG_FILE=./data/logs/app.log

# Monitoring
FLOWER_PORT=5555  # Celery Flower monitoring
